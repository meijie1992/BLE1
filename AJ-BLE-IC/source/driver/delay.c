/******************************************************************************
**                           南京安杰信息科技有限公司
**
**                           http://www.njanjar.com
**
**--------------基本文件信息---------------------------------------------------
** 文   件   名: delay.c
** 创   建   人: 宋志康
** 版        本: V0.3
** 最后修改日期: 2016-08-30
** 描        述: 延时
** 编        译: xc8
** 硬        件: aj-b-dk-g-v3 2016-6-23
**
**--------------历史版本信息---------------------------------------------------
** 创   建   人: 宋志康
** 版  	     本: V0.2
** 日　      期: 2016-05-31
** 描　      述: aj-b-dk-g-v2 2015-10-21

** 修   订   人 : 
** 版  	     本 : 
** 修订    日期 : 
** 描　      述 : 
**-----------------------------------------------------------------------------
*******************************************************************************/

//**--------------头文件-------------------------------------------------------
#include <xc.h>
#include <GenericTypeDefs.h>


//**--------------全局变量-----------------------------------------------------

//**--------------函数申明-----------------------------------------------------

//**--------------函数定义-----------------------------------------------------
/******************************************************************************
** 函数名称 : delay_1us
** 输入参数 : 无
** 输出参数 : 无
** 功能描述 : 延时1us
** 全局变量 : 无
** 作    者 : 宋志康
** 日    期 : 2015-11-02
** 修    改 : 无
** 版    本 : V0.1
*******************************************************************************/
void
delay_1us(
	void
	) // 延时1us，因为系统时钟是8MHZ，一条指令时间是1/8M * 4 = 500ns = 0.5us
{
	NOP(); // 0.5us
	NOP(); // 0.5us
}

/******************************************************************************
** 函数名称 : delay_ms
** 输入参数 : count
** 输出参数 : 无
** 功能描述 : 毫秒延时
** 全局变量 : 无
** 作    者 : 宋志康
** 日    期 : 2015-11-02
** 修    改 : 无
** 版    本 : V0.1
*******************************************************************************/
void
delay_ms(
	WORD count
	)
{
	WORD i, j;
	
	for (i = 0; i < count; i++)
	{
    	for (j = 0; j < 150; j++)
    	{
    		CLRWDT(); // 喂狗，不喂狗系统一直重新启动
    	}
   	}
}

